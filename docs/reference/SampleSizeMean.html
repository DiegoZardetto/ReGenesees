<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Sample Size Requirements and Power Calculations for Means — n.mean • ReGenesees</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Sample Size Requirements and Power Calculations for Means — n.mean" />
<meta property="og:description" content="These functions estimate the minimum sample size required to (i) satisfy specific precision constraints in the estimation of means and to (ii) attain specified levels of significance and power in a statistical test that compares two means. The inverse problems of finding, given a specified sample size, (iii) the expected precision of the estimator of the mean and (iv) the expected power or (v) minimum detectable effect for the test that compares two means are also addressed." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ReGenesees</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Calibration_Efficiency_MC.html">On the Efficiency Gain of Calibration Estimators</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DiegoZardetto/ReGenesees">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sample Size Requirements and Power Calculations for Means</h1>
    
    <div class="hidden name"><code>SampleSizeMean.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions estimate the minimum sample size required to (i) satisfy specific precision constraints in the estimation of means and to (ii) attain specified levels of significance and power in a statistical test that compares two means. The inverse problems of finding, given a specified sample size, (iii) the expected precision of the estimator of the mean and (iv) the expected power or (v) minimum detectable effect for the test that compares two means are also addressed.</p>
    </div>

    <pre class="usage"><span class='fu'>n.mean</span>(<span class='no'>prec</span>, <span class='kw'>prec.ind</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ME"</span>, <span class='st'>"RME"</span>, <span class='st'>"SE"</span>, <span class='st'>"CV"</span>), <span class='no'>sigmaY</span>, <span class='kw'>muY</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
       <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
       <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
       <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
       <span class='kw'>N</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>prec.mean</span>(<span class='no'>n</span>, <span class='kw'>prec.ind</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ME"</span>, <span class='st'>"RME"</span>, <span class='st'>"SE"</span>, <span class='st'>"CV"</span>), <span class='no'>sigmaY</span>, <span class='kw'>muY</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
          <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
          <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
          <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
          <span class='kw'>N</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>n.comp2mean</span>(<span class='no'>sigmaY</span>, <span class='no'>MDE</span>, <span class='kw'>K1</span> <span class='kw'>=</span> <span class='fl'>1</span>/<span class='fl'>2</span>,
            <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>0.2</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"two-tailed"</span>, <span class='st'>"one-tailed"</span>),
            <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
            <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
            <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
            <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>pow.comp2mean</span>(<span class='no'>n</span>, <span class='no'>sigmaY</span>, <span class='no'>MDE</span>, <span class='kw'>K1</span> <span class='kw'>=</span> <span class='fl'>1</span>/<span class='fl'>2</span>,
              <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"two-tailed"</span>, <span class='st'>"one-tailed"</span>),
              <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
              <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
              <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
              <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>mde.comp2mean</span>(<span class='no'>n</span>, <span class='no'>sigmaY</span>, <span class='kw'>K1</span> <span class='kw'>=</span> <span class='fl'>1</span>/<span class='fl'>2</span>,
              <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>0.2</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"two-tailed"</span>, <span class='st'>"one-tailed"</span>),
              <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
              <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
              <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
              <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>prec</th>
      <td><p>The precision level you want to attain in estimation.</p></td>
    </tr>
    <tr>
      <th>prec.ind</th>
      <td><p>The precision indicator for which the specified precison level <code>prec</code> has to be attained. The following uncertainty measures can be used as precision indicators: Margin of Error (<code>'ME'</code>, the default), Relative Margin of Error (<code>'RME'</code>), Standard Error (<code>'SE'</code>), and Coefficient of Variation (<code>'CV'</code>, also known as Relative Standard Error).</p></td>
    </tr>
    <tr>
      <th>sigmaY</th>
      <td><p>Anticipated estimate of the standard deviation of interest variable Y for your target (sub)population.</p></td>
    </tr>
    <tr>
      <th>muY</th>
      <td><p>Anticipated estimate of the mean of interest variable Y for your target (sub)population.</p></td>
    </tr>
    <tr>
      <th>DEFF</th>
      <td><p>Anticipated estimate of the design effect of the estimator of the mean.</p></td>
    </tr>
    <tr>
      <th>RR</th>
      <td><p>Anticipated estimate of the response rate.</p></td>
    </tr>
    <tr>
      <th>F</th>
      <td><p>Anticipated estimate of the proportion of your target subpopulation in the general population that will be sampled.</p></td>
    </tr>
    <tr>
      <th>hhSize</th>
      <td><p>Anticipated estimate of the average household size.</p></td>
    </tr>
    <tr>
      <th>AVEhh</th>
      <td><p>Anticipated estimate of the average number of individuals belonging to the target subpopulation per houshold.</p></td>
    </tr>
    <tr>
      <th>old.clus.size</th>
      <td><p>Average number of households sampled per PSU in the survey you have used to compute the input value for the <code>DEFF</code> argument.</p></td>
    </tr>
    <tr>
      <th>new.clus.size</th>
      <td><p>Average number of households to be sampled per PSU in the survey you are planning.</p></td>
    </tr>
    <tr>
      <th>N</th>
      <td><p>The size of your target (sub)population. Only needed if you don't want to neglect finite population corrections (which is the default behaviour if <code>N = NULL</code>).</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>Significance level used to build confidence intervals (with confidence level equal to <code>1 - alpha</code>) or probability of Type I error (False Positive) for hypothesis testing.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Print on screen some description or just return the results?</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>The sample size for which the expected precision or power or MDE must be calculated (see &#8216;Details&#8217;).</p></td>
    </tr>
    <tr>
      <th>MDE</th>
      <td><p>Minimum Detectable Effect for the difference between means.</p></td>
    </tr>
    <tr>
      <th>K1</th>
      <td><p>Ratio between the sample size of group 1 and the total sample size of groups 1 and 2 (defaults to <code>1/2</code>, i.e. equal sized groups).</p></td>
    </tr>
    <tr>
      <th>beta</th>
      <td><p>Probability of Type II error (False Negative) for hypothesis testing (so that <code>Power = 1 - beta</code>).</p></td>
    </tr>
    <tr>
      <th>sides</th>
      <td><p>Do you want a <code>'two-tailed'</code> test (the default) or a <code>'one-tailed'</code> test?</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These functions are intended as simple everyday tools for basic sampling design decisions and survey planning. They address sample size requirements and power calculations for <em>means</em> in surveys (typically household surveys) adopting one- or two-stage sampling designs. The means acting as estimation targets can be defined either in terms of individuals or in terms of households. Specific arguments (such as <code>hhSize</code>, <code>AVEhh</code>, <code>old.clus.size</code>, and <code>new.clus.size</code>) can be tweaked to cover different designs (one or two stages) and target populations (individual-level or household-level means), see the &#8216;Examples&#8217; section.</p>
<p>The formulas needed to guesstimate the minimum sample size required to satisfy specific precision constraints in the estimation of a mean (function <code>n.mean</code>) or the expected precision of the estimator of the mean given a specified sample size (function <code>prec.mean</code>) are available in many textbooks and spreadsheet templates (see, e.g., [Rosner 2006], [Lance, Hattori 2016], [ILO 2014a], [ILO 2014b]).</p>
<p>The formula needed to guesstimate the minimum sample size required to attain specified levels of significance and power in a statistical test that compares two means (function <code>n.comp2mean</code>) can be derived from equation 8.27 on page 302 of [Rosner 2006], by extending it to real-world complex sampling designs (see, e.g., arguments <code>RR</code> and <code>DEFF</code>). Functions <code>pow.comp2mean</code> and <code>mde.comp2mean</code> solve the resulting equation for <code>Power</code> (= <code>1 - beta</code>) and <code>MDE</code> given a specified <em>total</em> sample size, <code>n</code>.</p>
<p><strong>NOTE:</strong> For both <code>pow.comp2mean</code> and <code>mde.comp2mean</code>, argument <code>n</code> must be the <em>total</em> sample size, namely the sum of the sample sizes of the two groups (group 1 and group 2) whose estimated means need to be compared. The way the total sample size is allocated to the two groups is controlled by argument <code>K1</code>.</p>
<p><strong>NOTE:</strong> Despite most of the arguments to the above five functions come with default values, those defaults must not be considered as suggested values: in general, users will need to specify actual values that suit their specific design needs. For instance, the default value <code>muY = NULL</code> is not valid when relative measures of precision are used (<code>'RME'</code> and <code>'CV'</code>).</p>
<p><strong>NOTE:</strong> Arguments <code>F</code>, <code>hhSize</code>, and <code>AVEhh</code> are necessarily related to each other, as it is illustrated by the expression of the default of <code>AVEhh</code>, thus it is not required to specify all of them. If all are explicitly passed, the function will check that they comply with the identity <code>AVEhh = F * hhSize</code>.</p>
<p><strong>NOTE:</strong> Most of the arguments to the above five functions are vectorized, meaning that users can pass <code>numeric</code> vectors to them to investigate multiple design scenarios in a single shot (e.g. via <code>MDE = c(750, 1000, 1250)</code>). When vectors of length greater than 1 are passed to multiple arguments, <span style="R">R</span> recycling rule will kick in.</p>
<p><strong>NOTE:</strong> Input values for sample size, <code>n</code>, and population size (if any), <code>N</code>, should be positive integers. The functions will silently make them so, by using their <code><a href='https://rdrr.io/r/base/Round.html'>round(abs( ))</a></code> values. When both <code>n</code> and <code>N</code> are specified, an error will be raised if <code>n &gt; N</code>.</p>
<p><strong>NOTE:</strong> Since, as shown in the &#8216;Examples&#8217; section, the functions can be tweaked to cover different designs (one or two stages) and target populations (<em>individual-level</em> or <em>household-level</em> means), users who do not want to neglect finite population corrections must specify the population size <code>N</code> in terms of the <em>analytical units</em> that are relevant to their analysis.</p>
<p><strong>NOTE:</strong> Both functions <code>n.mean</code> and <code>n.comp2mean</code> return the <em>ceiling</em> of the analytically calculated minimum sample sizes (which are not integers in general). This is conservative and will result in slightly better sampling performances than the nominally requested ones (e.g. higher precision or power, and smaller confidence intervals or MDEs).</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For <code>n.mean</code>, <code>prec.mean</code>, <code>pow.comp2mean</code>, and <code>mde.comp2mean</code>, a <code>numeric</code> vector whose length depends on the length of the numeric inputs passed to the function (under <span style="R">R</span> recycling rule).</p>
<p>For <code>n.comp2mean</code>, a list of length 3 with names <code>n1</code>, <code>n2</code>, and <code>n</code>, providing the required sample sizes for group 1, group 2, and the overall sample. Each of the elements of the list is a <code>numeric</code> vector whose length depends on the length of the numeric inputs passed to the function (under <span style="R">R</span> recycling rule).</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>ILO (2014a) ILO-IPEC TOOLS. URL: <a href='https://www.ilo.org/resource/training-material/interactive-tools-sampling-household-based-child-labour-surveys'>https://www.ilo.org/resource/training-material/interactive-tools-sampling-household-based-child-labour-surveys</a>.</p>
<p>ILO (2014b) ILO-IPEC TOOLS USER GUIDE. URL: <a href='https://www.ilo.org/sites/default/files/2024-09/Child_labour_Sampling_Tools_Tool_01_Sample_Size_and_Margin_of_Error_Guidelines_2014.pdf'>https://www.ilo.org/sites/default/files/2024-09/Child_labour_Sampling_Tools_Tool_01_Sample_Size_and_Margin_of_Error_Guidelines_2014.pdf</a>.</p>
<p>Rosner, B. (2006) Fundamentals of biostatistics (7th ed.). Boston, MA: Brooks/Cole.</p>
<p>Lance, P., Hattori, A. (2016) Sampling and evaluation. Chapel Hill, North Carolina: MEASURE Evaluation, University of North Carolina (2016).</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Functions <code><a href='SampleSizeProp.html'>n.prop</a></code>, <code><a href='SampleSizeProp.html'>prec.prop</a></code>, <code><a href='SampleSizeProp.html'>n.comp2prop</a></code>, <code><a href='SampleSizeProp.html'>pow.comp2prop</a></code>, and <code><a href='SampleSizeProp.html'>mde.comp2prop</a></code> provide the same functionalities documented here, when the statistics of interest are <em>proportions</em> rather than means.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>########################</span>
<span class='co'># Reproducible example #</span>
<span class='co'>########################</span>
<span class='co'># Solve the problem used as illustrating example in Diagram 1b on page 12 of the ILO-IPEC</span>
<span class='co'># TOOLS USER GUIDE (which can be freely downloaded from ILO-IPEC TOOLS USER GUIDE URL in</span>
<span class='co'># the References section above).</span>
<span class='co'># This is the only example provided by the document for the estimate of a *mean* (which</span>
<span class='co'># the document, somewhat oddly, refers to as an &lt;&lt;indicator of amount&gt;&gt;):</span>

<span class='fu'>n.mean</span>(<span class='kw'>prec</span><span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>prec.ind</span><span class='kw'>=</span> <span class='st'>"ME"</span>, <span class='kw'>sigmaY</span><span class='kw'>=</span> <span class='fl'>250</span>, <span class='kw'>muY</span><span class='kw'>=</span> <span class='fl'>400</span>, <span class='kw'>DEFF</span><span class='kw'>=</span> <span class='fl'>4.0</span>, <span class='kw'>AVEhh</span><span class='kw'>=</span> <span class='fl'>0.75</span>, <span class='kw'>RR</span><span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; # Precision constraint:
#&gt;   ME = 20
#&gt;   alpha = 0.05
#&gt; # Anticipated estimates:
#&gt;   muY = 400
#&gt;   sigmaY = 250
#&gt;   DEFF = 4
#&gt;   RR = 0.9
#&gt;   F =
#&gt;   hhSize =
#&gt;   AVEhh = 0.75
#&gt; # -&gt; Required sample size:
#&gt;   n = 3557 
#&gt; </div><div class='input'>
<span class='co'># NOTE: We get 3557. The result of the ILO-IPEC template is a bit larger: 3704. This is</span>
<span class='co'>#       simply because the ILO-IPEC template approximates the 1 - 0.05/2 quantile of the</span>
<span class='co'>#       standard normal distribution with 2. Indeed, one can see that 3704 is exactly</span>
<span class='co'>#       equal to:</span>
<span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span>( <span class='fl'>3557</span> * (<span class='fl'>2</span> / <span class='fl'>1.96</span>)^<span class='fl'>2</span> )</div><div class='output co'>#&gt; [1] 3704</div><div class='input'>

<span class='co'>##################################################</span>
<span class='co'># Impact of Finite Population Corrections (fpc). #</span>
<span class='co'>##################################################</span>
<span class='co'># The sample size above was obtained by neglecting finite population corrections. Now let's</span>
<span class='co'># assume we know the population size is in the ballpark of 100 thousand households. If we</span>
<span class='co'># correctly factor in the fpc terms, then the required sample size is reduced as follows:</span>
<span class='fu'>n.mean</span>(<span class='kw'>prec</span><span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>prec.ind</span><span class='kw'>=</span> <span class='st'>"ME"</span>, <span class='kw'>sigmaY</span><span class='kw'>=</span> <span class='fl'>250</span>, <span class='kw'>muY</span><span class='kw'>=</span> <span class='fl'>400</span>, <span class='kw'>DEFF</span><span class='kw'>=</span> <span class='fl'>4.0</span>, <span class='kw'>AVEhh</span><span class='kw'>=</span> <span class='fl'>0.75</span>, <span class='kw'>RR</span><span class='kw'>=</span> <span class='fl'>0.9</span>,
       <span class='kw'>N</span><span class='kw'>=</span> <span class='fl'>100000</span>)</div><div class='output co'>#&gt; # Precision constraint:
#&gt;   ME = 20
#&gt;   alpha = 0.05
#&gt; # Anticipated estimates:
#&gt;   muY = 400
#&gt;   sigmaY = 250
#&gt;   DEFF = 4
#&gt;   RR = 0.9
#&gt;   F =
#&gt;   hhSize =
#&gt;   AVEhh = 0.75
#&gt;   N = 1e+05
#&gt; # -&gt; Required sample size:
#&gt;   n = 3435 
#&gt; </div><div class='input'>


<span class='co'>######################################################</span>
<span class='co'># Power calculations for the comparison of two means #</span>
<span class='co'>######################################################</span>
<span class='co'># A new national assistance policy aims to increase by 7% the average monthly household</span>
<span class='co'># consumption, which was estimated to be equal to 362000 (in the country currency) by an</span>
<span class='co'># household survey conducted two years before. The DEFF of that estimate was reported to</span>
<span class='co'># be 3.5, and the same survey estimated the population standard deviation of the monthly</span>
<span class='co'># household consumption to be 461000. To evaluate the impact of the intervention, two</span>
<span class='co'># household surveys with the same sample sizes will be conducted before (T0) and after</span>
<span class='co'># (T1) the implementation of the policy. Assuming that (i) the average monthly household</span>
<span class='co'># consumption at T0 will still be close to 362000 and (ii) the new policy will be the only</span>
<span class='co'># driver of changes, success of the policy would require a value of at least 387340 at T1</span>
<span class='co'># (387340 = 362000 * 1.07), namely an increase of 25340. However,the government would like</span>
<span class='co'># the study to be able to detect a possibly *smaller* consumption increase of 20000.</span>
<span class='co'># Moreover, the government is confident the new policy cannot result in harming household</span>
<span class='co'># consumption (so a one-tailed test is deemed appropriate). Assuming 20 households per EA</span>
<span class='co'># will be sampled as it was the case for the survey conducted two years before, and</span>
<span class='co'># anticipating a response rate of 0.9, and how many households must be selected to achieve</span>
<span class='co'># 80% power for the detection of the sought-after consumption increase at significance</span>
<span class='co'># level 5%?</span>

<span class='fu'>n.comp2mean</span>(<span class='kw'>sigmaY</span> <span class='kw'>=</span> <span class='fl'>362000</span>, <span class='kw'>MDE</span> <span class='kw'>=</span> <span class='fl'>20000</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='st'>"one-tailed"</span>, <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>3.5</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>0.9</span>,
            <span class='kw'>old.clus.size</span><span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>new.clus.size</span><span class='kw'>=</span> <span class='fl'>20</span>)</div><div class='output co'>#&gt; # Minimum Detectable Effect:
#&gt;   MDE = 20000
#&gt; # Significance:
#&gt;   alpha = 0.05
#&gt; # Power:
#&gt;   1 - beta = 0.8
#&gt; # Anticipated estimates:
#&gt;   sigmaY = 362000
#&gt;   DEFF = 3.5
#&gt;   RR = 0.9
#&gt;   F = 1
#&gt;   hhSize = 1
#&gt;   AVEhh = 1
#&gt; # Design parameters:
#&gt;   K1 = 0.5
#&gt;   old.clus.size = 20
#&gt;   ROH = 0.1315789
#&gt;   new.clus.size = 20
#&gt;   new.DEFF = 3.5
#&gt; # -&gt; Required sample size:
#&gt;   n1 = 15760
#&gt;   n2 = 15760
#&gt;   n = 31520 
#&gt; </div><div class='input'>
<span class='co'># NOTE: The required sample size is 31520 households, 15760 at baseline (T0) and 15760 at </span>
<span class='co'>#       endline (T1). The EAs to be visited are 15760 / 20 = 788 per round.</span>

<span class='co'># What would be the implications of using designs with 15 or 12 households per EA, instead</span>
<span class='co'># of 20?</span>

<span class='fu'>n.comp2mean</span>(<span class='kw'>sigmaY</span> <span class='kw'>=</span> <span class='fl'>362000</span>, <span class='kw'>MDE</span> <span class='kw'>=</span> <span class='fl'>20000</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='st'>"one-tailed"</span>, <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>3.5</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>0.9</span>,
            <span class='kw'>old.clus.size</span><span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>new.clus.size</span><span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>15</span>, <span class='fl'>12</span>))</div><div class='output co'>#&gt; # Minimum Detectable Effect:
#&gt;   MDE = 20000
#&gt; # Significance:
#&gt;   alpha = 0.05
#&gt; # Power:
#&gt;   1 - beta = 0.8
#&gt; # Anticipated estimates:
#&gt;   sigmaY = 362000
#&gt;   DEFF = 3.5
#&gt;   RR = 0.9
#&gt;   F = 1
#&gt;   hhSize = 1
#&gt;   AVEhh = 1
#&gt; # Design parameters:
#&gt;   K1 = 0.5
#&gt;   old.clus.size = 20
#&gt;   ROH = 0.1315789
#&gt;   new.clus.size = 15 12
#&gt;   new.DEFF = 2.842105 2.447368
#&gt; # -&gt; Required sample size:
#&gt;   n1 = 12795 11016
#&gt;   n2 = 12795 11016
#&gt;   n = 25590 22032 
#&gt; </div><div class='input'>
<span class='co'># NOTE: When going from 20 to 15 or 12 households per EA, the required sample size is</span>
<span class='co'>#       expected to decrease to 25590 households (12795 per round) and 22032 households</span>
<span class='co'>#       (11016 per round), respectively. Conversely, the EAs to be visited are expected to</span>
<span class='co'>#       increase to 12795 / 15 = 853 and 11016 / 12 = 918 per round,respectively.</span>

<span class='co'># How much sample size could be saved if the government resorts to detecting as significant</span>
<span class='co'># a larger consumption increase of 25000, which is much closer to the actually intended</span>
<span class='co'># goal of the policy?</span>

<span class='fu'>n.comp2mean</span>(<span class='kw'>sigmaY</span> <span class='kw'>=</span> <span class='fl'>362000</span>, <span class='kw'>MDE</span> <span class='kw'>=</span> <span class='fl'>25000</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='st'>"one-tailed"</span>, <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>3.5</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>0.9</span>,
            <span class='kw'>old.clus.size</span><span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>new.clus.size</span><span class='kw'>=</span> <span class='fl'>20</span>)</div><div class='output co'>#&gt; # Minimum Detectable Effect:
#&gt;   MDE = 25000
#&gt; # Significance:
#&gt;   alpha = 0.05
#&gt; # Power:
#&gt;   1 - beta = 0.8
#&gt; # Anticipated estimates:
#&gt;   sigmaY = 362000
#&gt;   DEFF = 3.5
#&gt;   RR = 0.9
#&gt;   F = 1
#&gt;   hhSize = 1
#&gt;   AVEhh = 1
#&gt; # Design parameters:
#&gt;   K1 = 0.5
#&gt;   old.clus.size = 20
#&gt;   ROH = 0.1315789
#&gt;   new.clus.size = 20
#&gt;   new.DEFF = 3.5
#&gt; # -&gt; Required sample size:
#&gt;   n1 = 10100
#&gt;   n2 = 10100
#&gt;   n = 20200 
#&gt; </div><div class='input'>
<span class='co'># NOTE: The required sample size would become 20200 households, 10100 per round. Therefore,</span>
<span class='co'>#       31520 - 20200 = 11320 households would be saved, 5660 per round.</span>

<span class='co'># The above reduced sample size would, of course, imply a lower statistical power (i.e.</span>
<span class='co'># smaller than the ideally desired 80%) for the detection of an increase of 20000 that</span>
<span class='co'># might actually be induced by the policy. What would actually be the expected power for</span>
<span class='co'># the detection of an effect of 20000 for n = 20200?</span>

<span class='fu'>pow.comp2mean</span>(<span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>20200</span>, <span class='kw'>sigmaY</span> <span class='kw'>=</span> <span class='fl'>362000</span>, <span class='kw'>MDE</span> <span class='kw'>=</span> <span class='fl'>20000</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='st'>"one-tailed"</span>, <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>3.5</span>,
              <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>0.9</span>, <span class='kw'>old.clus.size</span><span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>new.clus.size</span><span class='kw'>=</span> <span class='fl'>20</span>)</div><div class='output co'>#&gt; # Sample size(s):
#&gt;   n = 20200
#&gt;   n1 = 10100
#&gt;   n2 = 10100
#&gt;   K1 = 0.5
#&gt; # Minimum Detectable Effect:
#&gt;   MDE = 20000
#&gt; # Significance:
#&gt;   alpha = 0.05
#&gt; # Anticipated estimates:
#&gt;   sigmaY = 362000
#&gt;   DEFF = 3.5
#&gt;   RR = 0.9
#&gt;   F = 1
#&gt;   hhSize = 1
#&gt;   AVEhh = 1
#&gt; # Design parameters:
#&gt;   old.clus.size = 20
#&gt;   ROH = 0.1315789
#&gt;   new.clus.size = 20
#&gt;   new.DEFF = 3.5
#&gt; # -&gt; Expected Power:
#&gt;   1 - beta = 0.635 
#&gt; </div><div class='input'>
# NOTE: The power would be reduced to about 63.5%.
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Diego Zardetto</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Diego Zardetto.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


