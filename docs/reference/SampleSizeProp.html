<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Sample Size Requirements and Power Calculations for Proportions — n.prop • ReGenesees</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Sample Size Requirements and Power Calculations for Proportions — n.prop" />
<meta property="og:description" content="These functions estimate the minimum sample size required to (i) satisfy specific precision constraints in the estimation of proportions and to (ii) attain specified levels of significance and power in a statistical test that compares two proportions. The inverse problems of finding, given a specified sample size, (iii) the expected precision of the estimator of the proportion, and (iv) the expected power or (v) minimum detectable effect for the test that compares two proportions are also addressed." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ReGenesees</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Calibration_Efficiency_MC.html">On the Efficiency Gain of Calibration Estimators</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/DiegoZardetto/ReGenesees">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sample Size Requirements and Power Calculations for Proportions</h1>
    
    <div class="hidden name"><code>SampleSizeProp.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions estimate the minimum sample size required to (i) satisfy specific precision constraints in the estimation of proportions and to (ii) attain specified levels of significance and power in a statistical test that compares two proportions. The inverse problems of finding, given a specified sample size, (iii) the expected precision of the estimator of the proportion, and (iv) the expected power or (v) minimum detectable effect for the test that compares two proportions are also addressed.</p>
    </div>

    <pre class="usage"><span class='fu'>n.prop</span>(<span class='no'>prec</span>, <span class='kw'>prec.ind</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ME"</span>, <span class='st'>"RME"</span>, <span class='st'>"SE"</span>, <span class='st'>"CV"</span>), <span class='kw'>P</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
       <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
       <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
       <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
       <span class='kw'>N</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>prec.prop</span>(<span class='no'>n</span>, <span class='kw'>prec.ind</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ME"</span>, <span class='st'>"RME"</span>, <span class='st'>"SE"</span>, <span class='st'>"CV"</span>), <span class='kw'>P</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
          <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
          <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
          <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
          <span class='kw'>N</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>n.comp2prop</span>(<span class='no'>P1</span>, <span class='kw'>P2</span> <span class='kw'>=</span> <span class='no'>P1</span>, <span class='kw'>MDE</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span>(<span class='no'>P2</span> - <span class='no'>P1</span>), <span class='kw'>K1</span> <span class='kw'>=</span> <span class='fl'>1</span>/<span class='fl'>2</span>,
            <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>0.2</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"two-tailed"</span>, <span class='st'>"one-tailed"</span>),
            <span class='kw'>pooled.variance</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
            <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
            <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
            <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
            <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>pow.comp2prop</span>(<span class='no'>n</span>, <span class='no'>P1</span>, <span class='kw'>P2</span> <span class='kw'>=</span> <span class='no'>P1</span>, <span class='kw'>MDE</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span>(<span class='no'>P2</span> - <span class='no'>P1</span>), <span class='kw'>K1</span> <span class='kw'>=</span> <span class='fl'>1</span>/<span class='fl'>2</span>,
              <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"two-tailed"</span>, <span class='st'>"one-tailed"</span>),
              <span class='kw'>pooled.variance</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
              <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
              <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
              <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
              <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>mde.comp2prop</span>(<span class='no'>n</span>, <span class='no'>P1</span>, <span class='kw'>P2</span> <span class='kw'>=</span> <span class='no'>P1</span>, <span class='kw'>K1</span> <span class='kw'>=</span> <span class='fl'>1</span>/<span class='fl'>2</span>,
              <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>0.2</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"two-tailed"</span>, <span class='st'>"one-tailed"</span>),
              <span class='kw'>pooled.variance</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
              <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>1</span>,
              <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>AVEhh</span> <span class='kw'>=</span> <span class='no'>F</span> * <span class='no'>hhSize</span>,
              <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
              <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>prec</th>
      <td><p>The precision level you want to attain in estimation.</p></td>
    </tr>
    <tr>
      <th>prec.ind</th>
      <td><p>The precision indicator for which the specified precison level <code>prec</code> has to be attained. The following uncertainty measures can be used as precision indicators: Margin of Error (<code>'ME'</code>, the default), Relative Margin of Error (<code>'RME'</code>), Standard Error (<code>'SE'</code>), and Coefficient of Variation (<code>'CV'</code>, also known as Relative Standard Error).</p></td>
    </tr>
    <tr>
      <th>P</th>
      <td><p>Anticipated estimate of the proportion for your target (sub)population.</p></td>
    </tr>
    <tr>
      <th>DEFF</th>
      <td><p>Anticipated estimate of the design effect of the estimator of the proportion.</p></td>
    </tr>
    <tr>
      <th>RR</th>
      <td><p>Anticipated estimate of the response rate.</p></td>
    </tr>
    <tr>
      <th>F</th>
      <td><p>Anticipated estimate of the proportion of your target subpopulation in the general population that will be sampled.</p></td>
    </tr>
    <tr>
      <th>hhSize</th>
      <td><p>Anticipated estimate of the average household size.</p></td>
    </tr>
    <tr>
      <th>AVEhh</th>
      <td><p>Anticipated estimate of the average number of individuals belonging to the target subpopulation per household.</p></td>
    </tr>
    <tr>
      <th>old.clus.size</th>
      <td><p>Average number of households sampled per PSU in the survey you have used to compute the input value for the <code>DEFF</code> argument.</p></td>
    </tr>
    <tr>
      <th>new.clus.size</th>
      <td><p>Average number of households to be sampled per PSU in the survey you are planning.</p></td>
    </tr>
    <tr>
      <th>N</th>
      <td><p>The size of your target (sub)population. Only needed if you don't want to neglect finite population corrections (which is the default behaviour if <code>N = NULL</code>).</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>Significance level used to build confidence intervals (with confidence level equal to <code>1 - alpha</code>) or probability of Type I error (False Positive) for hypothesis testing.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Print on screen some description or just return the results?</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>The sample size for which the expected precision or power or MDE must be calculated (see &#8216;Details&#8217;).</p></td>
    </tr>
    <tr>
      <th>P1</th>
      <td><p>Anticipated estimate of the proportion for group 1.</p></td>
    </tr>
    <tr>
      <th>P2</th>
      <td><p>Anticipated estimate of the proportion for group 2 (only needed when it differs from <code>P1</code>).</p></td>
    </tr>
    <tr>
      <th>MDE</th>
      <td><p>Minimum Detectable Effect for the difference between proportions.</p></td>
    </tr>
    <tr>
      <th>K1</th>
      <td><p>Ratio between the sample size of group 1 and the total sample size of groups 1 and 2 (defaults to <code>1/2</code>, i.e. equal sized groups).</p></td>
    </tr>
    <tr>
      <th>beta</th>
      <td><p>Probability of Type II error (False Negative) for hypothesis testing (so that <code>Power = 1 - beta</code>).</p></td>
    </tr>
    <tr>
      <th>sides</th>
      <td><p>Do you want a <code>'two-tailed'</code> test (the default) or a <code>'one-tailed'</code> test?</p></td>
    </tr>
    <tr>
      <th>pooled.variance</th>
      <td><p>Do you want to use the pooled estimator of the variance (the default) or the unpooled one?</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These functions are intended as simple everyday tools for basic sampling design decisions and survey planning. They address sample size requirements and power calculations for <em>proportions</em> in surveys (typically household surveys) adopting one- or two-stage sampling designs. The proportions acting as estimation targets can be defined either in terms of individuals or in terms of households. Specific arguments (such as <code>hhSize</code>, <code>AVEhh</code>, <code>old.clus.size</code>, and <code>new.clus.size</code>) can be tweaked to cover different designs (one or two stages) and target populations (proportions of individuals or households), see the &#8216;Examples&#8217; section.</p>
<p>The formulas needed to guesstimate the minimum sample size required to satisfy specific precision constraints in the estimation of a proportion (function <code>n.prop</code>) or the expected precision of the estimator of the proportion given a specified sample size (function <code>prec.prop</code>) are available in many textbooks and spreadsheet templates (see, e.g., [Rosner 2006], [Lance, Hattori 2016], [ILO 2014], [UNICEF 2023]).</p>
<p>The formula needed to guesstimate the minimum sample size required to attain specified levels of significance and power in a statistical test that compares two proportions (function <code>n.comp2prop</code>) can be derived from equation 10.14 on page 381 of [Rosner 2006], by extending it to real-world complex sampling designs (see, e.g., arguments <code>RR</code> and <code>DEFF</code>). Functions <code>pow.comp2prop</code> and <code>mde.comp2prop</code> solve the resulting equation for <code>Power</code> (= <code>1 - beta</code>) and <code>MDE</code> given a specified <em>total</em> sample size, <code>n</code>.</p>
<p><strong>NOTE:</strong> For both <code>pow.comp2prop</code> and <code>mde.comp2prop</code>, argument <code>n</code> must be the <em>total</em> sample size, namely the sum of the sample sizes of the two groups (group 1 and group 2) whose estimated proportions need to be compared. The way the total sample size is allocated to the two groups is controlled by argument <code>K1</code>.</p>
<p><strong>NOTE:</strong> Despite most of the arguments to the above five functions come with default values, those defaults must not be considered as suggested values: in general, users will need to specify actual values that suit their specific design needs. For instance, as illustrated in the &#8216;Examples&#8217; section, the Minimum Detectable Effect does not necessarily need to be equal to its default expression (<code>MDE = abs(P2 - P1)</code>).</p>
<p><strong>NOTE:</strong> Arguments <code>F</code>, <code>hhSize</code>, and <code>AVEhh</code> are necessarily related to each other, as it is illustrated by the expression of the default of <code>AVEhh</code>, thus it is not required to specify all of them. If all are explicitly passed, the function will check that they comply with the identity <code>AVEhh = F * hhSize</code>.</p>
<p><strong>NOTE:</strong> Most of the arguments to the above five functions are vectorized, meaning that users can pass <code>numeric</code> vectors to them to investigate multiple design scenarios in a single shot (e.g. via <code>MDE = c(0.06, 0.08, 0.10)</code>). When vectors of length greater than 1 are passed to multiple arguments, <span style="R">R</span> recycling rule will kick in.</p>
<p><strong>NOTE:</strong> Input values for sample size, <code>n</code>, and population size (if any), <code>N</code>, should be positive integers. The functions will silently make them so, by using their <code><a href='https://rdrr.io/r/base/Round.html'>round(abs( ))</a></code> values. When both <code>n</code> and <code>N</code> are specified, an error will be raised if <code>n &gt; N</code>.</p>
<p><strong>NOTE:</strong> Since, as shown in the &#8216;Examples&#8217; section, the functions can be tweaked to cover different designs (one or two stages) and target populations (proportions of <em>individuals</em> or <em>households</em>), users who do not want to neglect finite population corrections must specify the population size <code>N</code> in terms of the <em>analytical units</em> that are relevant to their analysis.</p>
<p><strong>NOTE:</strong> Both functions <code>n.prop</code> and <code>n.comp2prop</code> return the <em>ceiling</em> of the analytically calculated minimum sample sizes (which are not integers in general). This is conservative and will result in slightly better sampling performances than the nominally requested ones (e.g. higher precision or power, and smaller confidence intervals or MDEs).</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For <code>n.prop</code>, <code>prec.prop</code>, <code>pow.comp2prop</code>, and <code>mde.comp2prop</code>, a <code>numeric</code> vector whose length depends on the length of the numeric inputs passed to the function (under <span style="R">R</span> recycling rule).</p>
<p>For <code>n.comp2prop</code>, a list of length 3 with names <code>n1</code>, <code>n2</code>, and <code>n</code>, providing the required sample sizes for group 1, group 2, and the overall sample. Each of the elements of the list is a <code>numeric</code> vector whose length depends on the length of the numeric inputs passed to the function (under <span style="R">R</span> recycling rule).</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>UNICEF (2023) MICS7 TOOLS. URL: <a href='https://mics.unicef.org/tools?round=mics7'>https://mics.unicef.org/tools?round=mics7</a>.</p>
<p>ILO (2014) ILO-IPEC TOOLS. URL: <a href='https://www.ilo.org/ipec/ChildlabourstatisticsSIMPOC/Manuals/WCMS_304559/lang--en/index.htm'>https://www.ilo.org/ipec/ChildlabourstatisticsSIMPOC/Manuals/WCMS_304559/lang--en/index.htm</a>.</p>
<p>Rosner, B. (2006) Fundamentals of biostatistics (7th ed.). Boston, MA: Brooks/Cole.</p>
<p>Lance, P., Hattori, A. (2016) Sampling and evaluation. Chapel Hill, North Carolina: MEASURE Evaluation, University of North Carolina (2016).</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Functions <code><a href='SampleSizeMean.html'>n.mean</a></code>, <code><a href='SampleSizeMean.html'>prec.mean</a></code>, <code><a href='SampleSizeMean.html'>n.comp2mean</a></code>, <code><a href='SampleSizeMean.html'>pow.comp2mean</a></code>, and <code><a href='SampleSizeMean.html'>mde.comp2mean</a></code> provide the same functionalities documented here, when the statistics of interest are <em>means</em> rather than proportions.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>##########################</span>
<span class='co'># Reproducible example 1 #</span>
<span class='co'>##########################</span>
<span class='co'># Solve the illustrating example problem stored in sheet 'Sample Size(SS) for one domain'</span>
<span class='co'># of the MICS7 Excel template (which can be freely downloaded from:</span>
<span class='co'># https://mics.unicef.org/tools?round=mics7):</span>

<span class='fu'>n.prop</span>(<span class='kw'>prec</span><span class='kw'>=</span> <span class='fl'>0.12</span>, <span class='kw'>prec.ind</span><span class='kw'>=</span> <span class='st'>"RME"</span>, <span class='kw'>P</span><span class='kw'>=</span> <span class='fl'>0.2</span>, <span class='kw'>DEFF</span><span class='kw'>=</span> <span class='fl'>1.5</span>, <span class='kw'>F</span><span class='kw'>=</span> <span class='fl'>0.09</span>, <span class='kw'>hhSize</span><span class='kw'>=</span> <span class='fl'>5.0</span>, <span class='kw'>RR</span><span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; # Precision constraint:
#&gt;   RME = 0.12
#&gt;   alpha = 0.05
#&gt; # Anticipated estimates:
#&gt;   P = 0.2
#&gt;   DEFF = 1.5
#&gt;   RR = 0.9
#&gt;   F = 0.09
#&gt;   hhSize = 5
#&gt;   AVEhh = 0.45
#&gt; # -&gt; Required sample size:
#&gt;   n = 3953 
#&gt; </div><div class='input'>
<span class='co'># NOTE: We get 3953. The result of the MICS7 template is a bit larger: 4115. This is </span>
<span class='co'>#       simply because the MICS7 template approximates the 1 - 0.05/2 quantile of the</span>
<span class='co'>#       standard normal distribution with 2. Indeed, one can see that 4115 is exactly</span>
<span class='co'>#       equal to:</span>
<span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span>( <span class='fl'>3953</span> * (<span class='fl'>2</span> / <span class='fl'>1.96</span>)^<span class='fl'>2</span> )</div><div class='output co'>#&gt; [1] 4115</div><div class='input'>

<span class='co'>##########################</span>
<span class='co'># Reproducible example 2 #</span>
<span class='co'>##########################</span>
<span class='co'># Sheet 'RME and Expected Cases given SS' of the MICS7 Excel template contains one example</span>
<span class='co'># of the reverse problem of finding the expected standard error for a given sample size.</span>
<span class='co'># You can solve it as follows:</span>

<span class='fu'>prec.prop</span>(<span class='kw'>n</span><span class='kw'>=</span> <span class='fl'>4000</span>, <span class='kw'>prec.ind</span><span class='kw'>=</span> <span class='st'>"SE"</span>, <span class='kw'>P</span><span class='kw'>=</span> <span class='fl'>0.2</span>, <span class='kw'>DEFF</span><span class='kw'>=</span> <span class='fl'>1.5</span>, <span class='kw'>F</span><span class='kw'>=</span> <span class='fl'>0.09</span>, <span class='kw'>hhSize</span><span class='kw'>=</span> <span class='fl'>5.0</span>, <span class='kw'>RR</span><span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; # Sample size:
#&gt;   n = 4000
#&gt; # Anticipated estimates:
#&gt;   P = 0.2
#&gt;   DEFF = 1.5
#&gt;   RR = 0.9
#&gt;   F = 0.09
#&gt;   hhSize = 5
#&gt;   AVEhh = 0.45
#&gt; # -&gt; Expected precision:
#&gt;   SE = 0.01217161
#&gt; </div><div class='input'>
<span class='co'># NOTE: This time, the result of the MICS7 template (0.01217) is *exactly* the same, since</span>
<span class='co'>#       the standard error is a measure of precision that does *not* depend on the confidence</span>
<span class='co'>#       level (so that MICS' approximation qnorm(1 - 0.05/2) = 2 plays no role here).</span>


<span class='co'>##########################</span>
<span class='co'># Reproducible example 3 #</span>
<span class='co'>##########################</span>

<span class='co'># Solve the problem stored as illustrating example in the ILO-IPEC Excel template (which</span>
<span class='co'># can be freely downloaded from:</span>
<span class='co'># https://www.ilo.org/ipec/ChildlabourstatisticsSIMPOC/Manuals/WCMS_304559/lang--en/index.htm)</span>

<span class='fu'>n.prop</span>(<span class='kw'>prec</span><span class='kw'>=</span> <span class='fl'>0.03</span>, <span class='kw'>prec.ind</span><span class='kw'>=</span> <span class='st'>"ME"</span>, <span class='kw'>P</span><span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='kw'>DEFF</span><span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>F</span><span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>hhSize</span><span class='kw'>=</span> <span class='fl'>5.0</span>, <span class='kw'>RR</span><span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; # Precision constraint:
#&gt;   ME = 0.03
#&gt;   alpha = 0.05
#&gt; # Anticipated estimates:
#&gt;   P = 0.1
#&gt;   DEFF = 4
#&gt;   RR = 0.9
#&gt;   F = 0.15
#&gt;   hhSize = 5
#&gt;   AVEhh = 0.75
#&gt; # -&gt; Required sample size:
#&gt;   n = 2277 
#&gt; </div><div class='input'>
<span class='co'># NOTE: We get 2277. The result of the ILO-IPEC template is a bit larger: 2370. This</span>
<span class='co'>#       simply because the ILO-IPEC template too approximates the 1 - 0.05/2 quantile of</span>
<span class='co'>#       the standard normal distribution with 2. Indeed, one can see that 2370 is exactly</span>
<span class='co'>#       equal to:</span>
<span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span>( <span class='fl'>2277</span> * (<span class='fl'>2</span> / <span class='fl'>1.96</span>)^<span class='fl'>2</span> )</div><div class='output co'>#&gt; [1] 2370</div><div class='input'>

<span class='co'># By using the additional input that the number of households per PSU was 16 for the</span>
<span class='co'># survey that generated the pre-estimates reported above, the ILO-IPEC template also</span>
<span class='co'># returns the estimated intraclass correlation coefficient (ICC) of the binary indicator</span>
<span class='co'># variable underlying the proportion: 27.3%.</span>

<span class='co'># To obtain the same result, just use the arguments 'old.clus.size' and 'new.clus.size'</span>
<span class='co'># as follows:</span>
<span class='fu'>n.prop</span>(<span class='kw'>prec</span><span class='kw'>=</span> <span class='fl'>0.03</span>, <span class='kw'>prec.ind</span><span class='kw'>=</span> <span class='st'>"ME"</span>, <span class='kw'>P</span><span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='kw'>DEFF</span><span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>F</span><span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>hhSize</span><span class='kw'>=</span> <span class='fl'>5.0</span>, <span class='kw'>RR</span><span class='kw'>=</span> <span class='fl'>0.9</span>,
       <span class='kw'>old.clus.size</span><span class='kw'>=</span> <span class='fl'>16</span>, <span class='kw'>new.clus.size</span><span class='kw'>=</span> <span class='fl'>16</span>)</div><div class='output co'>#&gt; # Precision constraint:
#&gt;   ME = 0.03
#&gt;   alpha = 0.05
#&gt; # Anticipated estimates:
#&gt;   P = 0.1
#&gt;   DEFF = 4
#&gt;   RR = 0.9
#&gt;   F = 0.15
#&gt;   hhSize = 5
#&gt;   AVEhh = 0.75
#&gt; # Design parameters:
#&gt;   old.clus.size = 16
#&gt;   ROH = 0.2727273
#&gt;   new.clus.size = 16
#&gt;   new.DEFF = 4
#&gt; # -&gt; Required sample size:
#&gt;   n = 2288 
#&gt; </div><div class='input'>
<span class='co'># NOTE: Once more, the result is in agreement with the ILO-IPEC template.</span>

<span class='co'># NOTE: By making explicit the cluster size, we obtained a slightly larger sample size</span>
<span class='co'>#       than before (2288 vs 2277). This is because, when the user specifies a value for</span>
<span class='co'>#       'new.clus.size', the function returns a sample size that is guaranteed to be an</span>
<span class='co'>#       integer multiple of it.</span>

<span class='co'># NOTE: Following Kish's naming convention, ReGenesees uses the label 'ROH' (which stands</span>
<span class='co'>#       for 'rate of homogeneity') for the ICC.</span>


<span class='co'>####################################################################</span>
<span class='co'># Impact of adjusting the survey design to accommodate a different #</span>
<span class='co'># number of households per sampled PSU.                            #</span>
<span class='co'>####################################################################</span>
<span class='co'># More generally, the argument 'new.clus.size' can be used to predict the impact on sample</span>
<span class='co'># size requirements of changing the number of households per PSU. This is performed by</span>
<span class='co'># leveraging the so-called *ICC portability assumption*.</span>

<span class='co'># Suppose the survey you are designing will use 20 households per PSU, rather than the 16</span>
<span class='co'># used by the survey from which you obtained the anticipated estimates used so far. Since</span>
<span class='co'># this setting is expected to increase the DEFF, a larger sample size will be needed to</span>
<span class='co'># the meet the previous precision constraint of ME = 0.03:</span>
<span class='fu'>n.prop</span>(<span class='kw'>prec</span><span class='kw'>=</span> <span class='fl'>0.03</span>, <span class='kw'>prec.ind</span><span class='kw'>=</span> <span class='st'>"ME"</span>, <span class='kw'>P</span><span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='kw'>DEFF</span><span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>F</span><span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>hhSize</span><span class='kw'>=</span> <span class='fl'>5.0</span>, <span class='kw'>RR</span><span class='kw'>=</span> <span class='fl'>0.9</span>,
       <span class='kw'>old.clus.size</span><span class='kw'>=</span> <span class='fl'>16</span>, <span class='kw'>new.clus.size</span><span class='kw'>=</span> <span class='fl'>20</span>)</div><div class='output co'>#&gt; # Precision constraint:
#&gt;   ME = 0.03
#&gt;   alpha = 0.05
#&gt; # Anticipated estimates:
#&gt;   P = 0.1
#&gt;   DEFF = 4
#&gt;   RR = 0.9
#&gt;   F = 0.15
#&gt;   hhSize = 5
#&gt;   AVEhh = 0.75
#&gt; # Design parameters:
#&gt;   old.clus.size = 16
#&gt;   ROH = 0.2727273
#&gt;   new.clus.size = 20
#&gt;   new.DEFF = 4.818182
#&gt; # -&gt; Required sample size:
#&gt;   n = 2760 
#&gt; </div><div class='input'>
<span class='co'># NOTE: As can be seen, when going from 16 to 20 households per PSU, the DEFF is expected </span>
<span class='co'>#       to increase from 4 to 4.8, thus bringing the sample size required to achieve the</span>
<span class='co'>#       desired margin of error from 2288 to 2760 households.</span>


<span class='co'>##################################################</span>
<span class='co'># Impact of Finite Population Corrections (fpc). #</span>
<span class='co'>##################################################</span>
<span class='co'># The sample size above was obtained by neglecting finite population corrections. Now let's</span>
<span class='co'># assume we know the population size is in the ballpark of 100 thousand households. If we</span>
<span class='co'># correctly factor in the fpc terms, then the required sample size is reduced as follows:</span>
<span class='fu'>n.prop</span>(<span class='kw'>prec</span><span class='kw'>=</span> <span class='fl'>0.03</span>, <span class='kw'>prec.ind</span><span class='kw'>=</span> <span class='st'>"ME"</span>, <span class='kw'>P</span><span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='kw'>DEFF</span><span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>F</span><span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>hhSize</span><span class='kw'>=</span> <span class='fl'>5.0</span>, <span class='kw'>RR</span><span class='kw'>=</span> <span class='fl'>0.9</span>,
       <span class='kw'>old.clus.size</span><span class='kw'>=</span> <span class='fl'>16</span>, <span class='kw'>new.clus.size</span><span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>N</span><span class='kw'>=</span> <span class='fl'>100000</span>)</div><div class='output co'>#&gt; # Precision constraint:
#&gt;   ME = 0.03
#&gt;   alpha = 0.05
#&gt; # Anticipated estimates:
#&gt;   P = 0.1
#&gt;   DEFF = 4
#&gt;   RR = 0.9
#&gt;   F = 0.15
#&gt;   hhSize = 5
#&gt;   AVEhh = 0.75
#&gt;   N = 1e+05
#&gt; # Design parameters:
#&gt;   old.clus.size = 16
#&gt;   ROH = 0.2727273
#&gt;   new.clus.size = 20
#&gt;   new.DEFF = 4.818182
#&gt; # -&gt; Required sample size:
#&gt;   n = 2680 
#&gt; </div><div class='input'>


<span class='co'>#######################################################################</span>
<span class='co'># Power calculations for the comparison of two proportions: example 1 #</span>
<span class='co'>#######################################################################</span>
<span class='co'># Suppose one wants to plan two household surveys to evaluate whether a proposed new</span>
<span class='co'># targeting strategy will increase the proportion of beneficiaries of a social assistance</span>
<span class='co'># program that are poor. The surveys will be conducted before (T0) and after (T1) the</span>
<span class='co'># implementation of the new strategy. From a previous assessment (T &lt; T0, with a response</span>
<span class='co'># rate of 0.9), it is known that the proportion of poor households among beneficiaries was</span>
<span class='co'># around 73% and that the DEFF of this estimated proportion was 1.4. The new strategy</span>
<span class='co'># would be considered successful if, after the implementation of the new targeting</span>
<span class='co'># strategy, the proportion of poor households among beneficiaries equals or exceeds 80%.</span>
<span class='co'># Households will be selected from the list of beneficiaries (so F = 1) with the same</span>
<span class='co'># one-stage sampling design as the previous assessment, and the baseline and endline</span>
<span class='co'># surveys will have equal sample sizes (so K1 = 1/2). Moreover, it is believed that the new</span>
<span class='co'># strategy cannot result in harming the targeting performance (so a one-tailed test is</span>
<span class='co'># deemed appropriate). How many households must be sampled to achieve 80% power for the</span>
<span class='co'># detection of the sought-after effect at significance level 5%?</span>

<span class='fu'>n.comp2prop</span>(<span class='kw'>P1</span> <span class='kw'>=</span> <span class='fl'>0.73</span>, <span class='kw'>P2</span> <span class='kw'>=</span> <span class='fl'>0.80</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='st'>"one-tailed"</span>, <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1.4</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; # Minimum Detectable Effect:
#&gt;   MDE = 0.07
#&gt; # Significance:
#&gt;   alpha = 0.05
#&gt; # Power:
#&gt;   1 - beta = 0.8
#&gt; # Anticipated estimates:
#&gt;   P1 = 0.73
#&gt;   P2 = 0.8
#&gt;   DEFF = 1.4
#&gt;   RR = 0.9
#&gt;   F = 1
#&gt;   hhSize = 1
#&gt;   AVEhh = 1
#&gt; # Design parameters:
#&gt;   K1 = 0.5
#&gt; # -&gt; Required sample size:
#&gt;   n1 = 705
#&gt;   n2 = 705
#&gt;   n = 1410 
#&gt; </div><div class='input'>
<span class='co'># NOTE: The required sample size is 1410 households, 705 at baseline (T0) and 705 at</span>
<span class='co'>#       endline (T1).</span>

<span class='co'># NOTE: The default value hhSize = 1 (which implies AVEhh = F = 1) was used because the</span>
<span class='co'>#       target proportion was defined in terms of households, rather than in terms of</span>
<span class='co'>#       individuals.</span>

<span class='co'># Suppose the available budget is not enough to survey the required 705 households per</span>
<span class='co'># round, whereas a sample of 600 households per round (i.e. 1200 overall) would be feasible.</span>
<span class='co'># What would be the expected power in that case?</span>

<span class='fu'>pow.comp2prop</span>(<span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1200</span>, <span class='kw'>P1</span> <span class='kw'>=</span> <span class='fl'>0.73</span>, <span class='kw'>P2</span> <span class='kw'>=</span> <span class='fl'>0.80</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='st'>"one-tailed"</span>, <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>1.4</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; # Sample size(s):
#&gt;   n = 1200
#&gt;   n1 = 600
#&gt;   n2 = 600
#&gt;   K1 = 0.5
#&gt; # Minimum Detectable Effect:
#&gt;   MDE = 0.07
#&gt; # Significance:
#&gt;   alpha = 0.05
#&gt; # Anticipated estimates:
#&gt;   P1 = 0.73
#&gt;   P2 = 0.8
#&gt;   DEFF = 1.4
#&gt;   RR = 0.9
#&gt;   F = 1
#&gt;   hhSize = 1
#&gt;   AVEhh = 1
#&gt; # -&gt; Expected Power:
#&gt;   1 - beta = 0.742 
#&gt; </div><div class='input'>
<span class='co'># NOTE: The power would be reduced to about 74.2%.</span>


<span class='co'>#######################################################################</span>
<span class='co'># Power calculations for the comparison of two proportions: example 2 #</span>
<span class='co'>#######################################################################</span>
<span class='co'># An assistance program aims to reduce by 20% the prevalence of stunted children under age</span>
<span class='co'># 5 in a given target area. The historical prevalence before the intervention is estimated</span>
<span class='co'># at 35%, so bringing it down to 28% (a 20% reduction, resulting in a 7 percentage points</span>
<span class='co'># decrease) would be considered a full success. To evaluate the impact of the intervention,</span>
<span class='co'># two household surveys will be conducted before (T0) and after (T1) the implementation.</span>
<span class='co'># The surveys will have the same sample sizes, and it is desired that the study manages to</span>
<span class='co'># detect a possible reduction effect of 5 percentage points (thus somewhat *smaller* than</span>
<span class='co'># the official target). In the target area, the proportion of children under age 5 in the</span>
<span class='co'># general population is estimated to be 15% and the average household size to be 5.6. The</span>
<span class='co'># latest household survey that estimated the prevalence of stunted children under age 5</span>
<span class='co'># reported a DEFF of 2.70, used a two-stage stratified cluster sampling design with 20</span>
<span class='co'># households per each sampled EA, and had a response rate of 92%. If the same sampling</span>
<span class='co'># design were adopted, how many households would be needed to achieve 80% power for the</span>
<span class='co'># detection of the sought-after minimum effect at significance level 5%?</span>

<span class='fu'>n.comp2prop</span>(<span class='kw'>P1</span> <span class='kw'>=</span> <span class='fl'>0.35</span>, <span class='kw'>MDE</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='st'>"one-tailed"</span>, <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>2.7</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>0.92</span>,
            <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>5.6</span>, <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='fl'>20</span>)</div><div class='output co'>#&gt; # Minimum Detectable Effect:
#&gt;   MDE = 0.05
#&gt; # Significance:
#&gt;   alpha = 0.05
#&gt; # Power:
#&gt;   1 - beta = 0.8
#&gt; # Anticipated estimates:
#&gt;   P1 = 0.35
#&gt;   DEFF = 2.7
#&gt;   RR = 0.92
#&gt;   F = 0.15
#&gt;   hhSize = 5.6
#&gt;   AVEhh = 0.84
#&gt; # Design parameters:
#&gt;   K1 = 0.5
#&gt;   old.clus.size = 20
#&gt;   ROH = 0.1075949
#&gt;   new.clus.size = 20
#&gt;   new.DEFF = 2.7
#&gt; # -&gt; Required sample size:
#&gt;   n1 = 3940
#&gt;   n2 = 3940
#&gt;   n = 7880 
#&gt; </div><div class='input'>
<span class='co'># NOTE: The required sample size is 7880 households, 3940 at baseline (T0) and 3940 at </span>
<span class='co'>#       endline (T1). The EAs to be visited are 3940 / 20 = 197 per round.</span>

<span class='co'># What would be the implications of using a design with 15 households per EA, instead of</span>
<span class='co'># 20?</span>

<span class='fu'>n.comp2prop</span>(<span class='kw'>P1</span> <span class='kw'>=</span> <span class='fl'>0.35</span>, <span class='kw'>MDE</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='st'>"one-tailed"</span>, <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>2.7</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>0.92</span>,
            <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>5.6</span>, <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='fl'>15</span>)</div><div class='output co'>#&gt; # Minimum Detectable Effect:
#&gt;   MDE = 0.05
#&gt; # Significance:
#&gt;   alpha = 0.05
#&gt; # Power:
#&gt;   1 - beta = 0.8
#&gt; # Anticipated estimates:
#&gt;   P1 = 0.35
#&gt;   DEFF = 2.7
#&gt;   RR = 0.92
#&gt;   F = 0.15
#&gt;   hhSize = 5.6
#&gt;   AVEhh = 0.84
#&gt; # Design parameters:
#&gt;   K1 = 0.5
#&gt;   old.clus.size = 20
#&gt;   ROH = 0.1075949
#&gt;   new.clus.size = 15
#&gt;   new.DEFF = 2.248101
#&gt; # -&gt; Required sample size:
#&gt;   n1 = 3285
#&gt;   n2 = 3285
#&gt;   n = 6570 
#&gt; </div><div class='input'>
<span class='co'># NOTE: When going from 20 to 15 households per EA, the DEFF is expected to decrease from</span>
<span class='co'>#       2.70 to 2.25. As a result, the required sample size would become 6570 households,</span>
<span class='co'>#       3285 at baseline (T0) and 3285 at endline (T1). The EAs to be visited would become</span>
<span class='co'>#       3285 / 15 = 219 per round.</span>
<span class='co'>#       Therefore, the proposed design would save 655 (= 3940 - 3285) households per round,</span>
<span class='co'>#       but would require visiting 22 (= 219 - 197) additional EAs per round.</span>

<span class='co'># Suppose that the available budget only allows to survey 5000 households, 2500 per round,</span>
<span class='co'># and that logistic constraints dictate to survey 15 households per EA. What would be the</span>
<span class='co'># expected MDE of the study in that case, if a 80% power is desired?</span>

<span class='fu'>mde.comp2prop</span>(<span class='kw'>n</span><span class='kw'>=</span> <span class='fl'>5000</span>, <span class='kw'>P1</span> <span class='kw'>=</span> <span class='fl'>0.35</span>, <span class='kw'>sides</span> <span class='kw'>=</span> <span class='st'>"one-tailed"</span>, <span class='kw'>DEFF</span> <span class='kw'>=</span> <span class='fl'>2.7</span>, <span class='kw'>RR</span> <span class='kw'>=</span> <span class='fl'>0.92</span>,
              <span class='kw'>F</span> <span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>hhSize</span> <span class='kw'>=</span> <span class='fl'>5.6</span>, <span class='kw'>old.clus.size</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>new.clus.size</span> <span class='kw'>=</span> <span class='fl'>15</span>)</div><div class='output co'>#&gt; # Sample size(s):
#&gt;   n = 5000
#&gt;   n1 = 2500
#&gt;   n2 = 2500
#&gt;   K1 = 0.5
#&gt; # Significance:
#&gt;   alpha = 0.05
#&gt; # Power:
#&gt;   1 - beta = 0.8
#&gt; # Anticipated estimates:
#&gt;   P1 = 0.35
#&gt;   DEFF = 2.7
#&gt;   RR = 0.92
#&gt;   F = 0.15
#&gt;   hhSize = 5.6
#&gt;   AVEhh = 0.84
#&gt; # Design parameters:
#&gt;   old.clus.size = 20
#&gt;   ROH = 0.1075949
#&gt;   new.clus.size = 15
#&gt;   new.DEFF = 2.248101
#&gt; # -&gt; Expected Minimum Detectable Effect:
#&gt;   MDE = 0.05721292 
#&gt; </div><div class='input'>
# NOTE: The MDE would be about 5.7 percentage points. This means that, if the assistance
#       program actually results in the hoped-for 7 percentage points reduction, the study
#       will detect its effect as statistically significant with high probability (>= 80%).
#       However, should the program result in a smaller, yet not negligible, impact (e.g.
#       a reduction of 5 percentage points), the study will have less than 80% probability
#       to detect it, because of the sample size constraint.
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Diego Zardetto</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Diego Zardetto.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


